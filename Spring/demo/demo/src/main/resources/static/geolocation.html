<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Geolocaliza√ß√£o - Ambul√¢ncias</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
        #map {
            height: 600px;
            width: 100%;
        }
    </style>
</head>
<body>
    <nav>
        <a href="/dashboard.html">Dashboard</a>
        <a href="/client_management.html">Clientes</a>
        <a href="/motorista_registration.html">Motoristas</a>
        <a href="/ambulancia_registration.html">Ambul√¢ncias</a>
        <a href="/hospital_registration.html">Hospitais</a>
        <a href="/usuario_registration.html">Usu√°rios</a>
        <a href="/scheduling.html">Agendamento</a>
        <a href="/reports.html">Relat√≥rios</a>
        <a href="/geolocation.html">Geolocaliza√ß√£o</a>
    </nav>

    <h1>Geolocaliza√ß√£o das Ambul√¢ncias üöë</h1>

    <div id="map"></div>

    <script>
        // Dados fict√≠cios de ambul√¢ncias para exibi√ß√£o no mapa
        const ambulancias = [
            { placa: 'ABC-1234', latitude: -23.5505, longitude: -46.6333, status: 'Dispon√≠vel' },
            { placa: 'DEF-5678', latitude: -23.5515, longitude: -46.6343, status: 'Em tr√¢nsito' },
            { placa: 'GHI-9012', latitude: -23.5525, longitude: -46.6353, status: 'Ocupada' },
            { placa: 'JKL-3456', latitude: -23.5535, longitude: -46.6363, status: 'Dispon√≠vel' },
            { placa: 'MNO-7890', latitude: -23.5545, longitude: -46.6373, status: 'Em manuten√ß√£o' }
        ];

        function initMap() {
            const map = new google.maps.Map(document.getElementById('map'), {
                zoom: 12,
                center: { lat: -23.5505, lng: -46.6333 } // Centro em S√£o Paulo
            });

            const markers = ambulancias.map(ambulancia => {
                const marker = new google.maps.Marker({
                    position: { lat: ambulancia.latitude, lng: ambulancia.longitude },
                    map: map,
                    title: `Ambul√¢ncia ${ambulancia.placa}`
                });

                const infoWindow = new google.maps.InfoWindow({
                    content: `<strong>Placa:</strong> ${ambulancia.placa}<br><strong>Status:</strong> ${ambulancia.status}`
                });

                marker.addListener('click', () => {
                    infoWindow.open(map, marker);
                });

                return marker;
            });

            // Atualiza posi√ß√µes periodicamente (simula√ß√£o)
            setInterval(() => {
                ambulancias.forEach((ambulancia, index) => {
                    ambulancia.latitude += (Math.random() - 0.5) * 0.001;
                    ambulancia.longitude += (Math.random() - 0.5) * 0.001;
                    markers[index].setPosition(new google.maps.LatLng(ambulancia.latitude, ambulancia.longitude));
                });
            }, 3000);
        }

        // Inicializa o mapa
        initMap();
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAIz6iI0blYnCpoGhjstXvYbxdVdyHRWpo&callback=initMap"></script>
</body>
</html>
